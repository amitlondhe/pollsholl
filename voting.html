<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">
<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
 <style>
	#sortable { list-style-type: none; margin: 0; padding: 0; width: 60%; }
	#sortable li { margin: 0 3px 3px 3px; padding: 0.4em; padding-left: 1.5em; font-size: 1.4em; height: 18px; }
	#sortable li span { position: absolute; margin-left: -1.3em; }
  </style>

  

<script src="https://www.gstatic.com/firebasejs/4.2.0/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyC7DqgTW-C7GrjRsGjd-D6jN4k_-h6MTCA",
    authDomain: "voting-a1fe7.firebaseapp.com",
    databaseURL: "https://voting-a1fe7.firebaseio.com",
    projectId: "voting-a1fe7",
    storageBucket: "",
    messagingSenderId: "805283765249"
  };
  firebase.initializeApp(config);
</script>  

<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
<script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script src="js/jquery.ui.touch-punch.min.js"></script>
<script>
 
  $( document ).ready(function() {
 
    $( "#sortable" ).sortable();
    $( "#sortable" ).disableSelection();
	
	function onSignInSubmit(phoneNumber) {
		firebase.auth().signInWithPhoneNumber(phoneNumber, appVerifier)
			.then(function (confirmationResult) {
			  // SMS sent. Prompt user to type the code from the message, then sign the
			  // user in with confirmationResult.confirm(code).
			  window.confirmationResult = confirmationResult;
			}).catch(function (error) {
			  // Error; SMS not sent
			  console.log(error.message);
			  alert("Something went wrong" + error);
		});	
	}
	
	window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('signin', {
		  'size': 'invisible'
	});	
	var appVerifier = window.recaptchaVerifier;
	
	$("#signin").click(function( event ) { 
        alert( "Phone number '" + $("#phonenumber").val() + "'");
		var phoneNumber = $("#phonenumber").val();
		onSignInSubmit(phoneNumber);
    });
	
	$("#confirm").click(function(event){
		var code = $("#phonecode").val();
		alert( "code '" + code + "'");
		confirmationResult.confirm(code).then(function (result) {
		  // User signed in successfully.
		  var user = result.user;
		  // ...
		  alert(user);
		}).catch(function (error) {
		  // User couldn't sign in (bad verification code?)
		  // ...
		});
	});
 
});

</script>
  
  
  
</head>
<body>

<div data-role="page">
  <div data-role="header">
    <h1>Welcome To My Homepage</h1>
	<input type="text" id="phonenumber"></input>
	<input type="button" id="signin" value="Sign In"></input>
	<input type="text" id="phonecode"></input>
	<input type="button" id="confirm" value="Confirm Code"></input>
  </div>

  <div data-role="main" class="ui-content">
	<ul id="sortable">
		<li class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Item 1</li>
		<li class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Item 2</li>
		<li class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Item 3</li>
		<li class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Item 4</li>
		<li class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Item 5</li>
		<li class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Item 6</li>
		<li class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Item 7</li>
	</ul>
  </div>

  <div data-role="footer">
    <h1>Footer Text</h1>
  </div>
</div> 

</body>
</html>
