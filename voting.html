<!DOCTYPE html>
<html lang="en">
<head>
  <title>Select your favorite Lightning Talks</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">
	<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
	<style>
		#sortable { list-style-type: none; margin: 0; padding: 0; width: 80%; }
		#sortable li { margin: 0 10px 10px 10px; padding: 1em; padding-left: 1.5em; font-size: 1.4em; height: auto; }

		.bg-1 { 
		   background-color:  #2b2b2f;; /* black */
		   color: #ffffff;
		}

		.bg-2 { 
		   background-color: #7a7784; /* grey */
		   color: #ffffff;
		}	
		
		.radius {
			border-radius:20%;
		}
		
		li { border-radius:1em; }
	</style>  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  
  	<script src="https://www.gstatic.com/firebasejs/4.2.0/firebase.js"></script>
	<script>
	  // Initialize Firebase
	  var config = {
		apiKey: "AIzaSyC7DqgTW-C7GrjRsGjd-D6jN4k_-h6MTCA",
		authDomain: "voting-a1fe7.firebaseapp.com",
		databaseURL: "https://voting-a1fe7.firebaseio.com",
		projectId: "voting-a1fe7",
		storageBucket: "",
		messagingSenderId: "805283765249"
	  };
	  firebase.initializeApp(config);
	</script> 
  
  
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  
  <!--
  <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
   -->
   
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script src="js/jquery.ui.touch-punch.min.js"></script>
 <script src="js/moment.js"></script>
 
  <script>
 
  $(document).ready(function() { 
  
 	var start = moment('4 Aug 2017 10:00:00 EST');
	var end = moment('4 Aug 2017 18:00:00 EST');
	console.log("start " + start + ", end " + end);
	console.log("Between " + moment().isBetween(start,end));
	
	

    var myMap = new Map();
	myMap.set('londhe',20);
	myMap.set('amit',10);
	if(myMap.has('amit')) {
		myMap.set('amit',myMap.get('amit')+10);
	}
	console.log(myMap.has('amit'));
	var topVal = 0;
	var results = new Map();

	myMap.forEach(function(val,key,map){
	    if(val >= topVal) {
			results.set(key,val);
		} 	
	});
	
	var iter = results.entries();
	for(let entry of iter){
		console.log(entry[0] + "-" + entry[1]);
	}
	
	
	/*
	console.log("Getting winner information");
	var userselectionmap = {};
	firebase.database().ref('/users/').once('value').then(function(snapshot) {
		snapshot.forEach(function(userselection){
			var username = userselection.key;
			var toplightningtalk = userselection.val();
			console.log("username ->" + username + ",toplightningtalk->"+toplightningtalk);
			
			var keyavailable = toplightningtalk.toptalk in userselectionmap
			console.log("key " + toplightningtalk  + " is available " + keyavailable);
			
			if(keyavailable) {
				userselectionmap[toplightningtalk.toptalk] = 1;
			} else {
				userselectionmap[toplightningtalk.toptalk] = userselectionmap[toplightningtalk.toptalk] + 1
			} 
			
		});
		// Go thru the Map to find out highest number of votes
		//userselectionmap.each()
	});
	*/
	
  
  /*
	var entryHtml = '<li  style="background-color:#af23a4;color:white" id="#id">' + 
						'<div class="container-fluid">'+
							'<div class="row">' + 
							    '<div class="col-sm-4 small">' + 
									'<img src="https://www.w3schools.com/bootstrap/img_chania.jpg" style="width:40%;height:30%;border-radius:20%;" >' +
								'</div>' +
								'<div class="col-sm-4 small">#speaker </div>' +
								'<div class="col-sm-4 small">#topic </div>' +
							'</div>' + 
							'<div class="row">' + 
								'<div class="col-sm-12">#abstract</div>' +								
							'</div>' + 							
						  '</div>' + 
					'</li>';
  
  
	//readEntries();
	
	var userid = "";
	$('#sortable').sortable({
	   scroll: true, 
	   scrollSensitivity: 100 ,
	   scrollSpeed: 50,
	   placeholder: "ui-state-highlight",
		//update: function () { save_new_order() }
	});

    $("#sortable" ).disableSelection();
	$("#entercode").hide();
	$("#sortable").show();
	
	$("#getcode").click(function(){
		$("#entercode").show();
		$("#getcode").prop( "disabled", true );
	});
	$("#signinbutton").click(function(){
		$("#signin").hide();
		$("#sortable").show();
	});
	*/

  });
  </script>
  
</head>
<body class="bg-2">

<div class="container-fluid bg-1 text-center ">
  <h1>Vote for Lightning Talk</h1>
  <p>{ Move the Talk you love to Top }</p> 
</div>
  
<div class="container-fluid bg-2">

    <div class="row">
	<ul id="sortable" class="list-group col-sm-12" style="margin:1em" >	
		<li style="background-color:#af23a4;color:white;border:1px solid white;padding-top:5px;padding-bottom:2px;padding-left:2px;padding-right:2px" id="9000" >
			<div class="container-fluid" style="padding:0;margin:0 10 0 10">
				<div class="row" >
					<div class="col-sm-2" style="text-align:center" >
						<img src="https://www.w3schools.com/bootstrap/img_chania.jpg" style="width:50%;height:60%;border-radius:20%;">
						<p style="font-size:0.7em">Amit Londhe</p>
					</div>
					<p class="col-sm-10 small text-justify"> Lightning Talk <br/><i> This is a sample abstract.  This is a sample abstract. <br/> This is a sample abstract.This is a sample abstract.</i></p>
				</div>
			</div>
		</li>

		<li style="background-color:#af23a4;color:white;border:1px solid white;padding:5px" id="9000" >
			<div class="container-fluid" style="padding:0;margin:0 10 0 10">
				<div class="row" >
					<div class="col-sm-2" style="text-align:center" >
						<img src="https://www.w3schools.com/bootstrap/img_chania.jpg" style="width:50%;height:60%;border-radius:20%;">
						<p style="font-size:0.7em">Amit Londhe</p>
					</div>
					<p class="col-sm-10 small"> Lightning Talk <br/><i> This is a sample abstract.  This is a sample abstract. <br/> This is a sample abstract.This is a sample abstract.</i></p>
				</div>
			</div>
		</li>


		<li style="background-color:#af23a4;color:white;border:1px solid white;padding-top:10px;padding-bottom:0px;padding-left:0px;padding-right:0px" id="9000" >
			<div class="container-fluid" style="padding:0;margin:0 10 0 10">
				<div class="row" >
					<div class="col-sm-2" style="text-align:center" >
						<img src="https://www.w3schools.com/bootstrap/img_chania.jpg" style="width:50%;height:60%;border-radius:20%;">
						<p style="font-size:0.7em">Amit Londhe</p>
					</div>
					<p class="col-sm-10 small"> Lightning Talk <br/><i> This is a sample abstract.  This is a sample abstract. <br/> This is a sample abstract.This is a sample abstract.</i></p>
				</div>
			</div>
		</li>
		
		<li style="background-color:#af23a4;color:white;border:1px solid white;padding-top:10px;padding-bottom:0px;padding-left:0px;padding-right:0px" id="9000" >
			<div class="container-fluid" style="padding:0;margin:0 10 0 10">
				<div class="row" >
					<div class="col-sm-2" style="text-align:center" >
						<img src="https://www.w3schools.com/bootstrap/img_chania.jpg" style="width:50%;height:60%;border-radius:20%;">
						<p style="font-size:0.7em">Amit Londhe</p>
					</div>
					<p class="col-sm-10 small"> Lightning Talk <br/><i> This is a sample abstract.  This is a sample abstract. <br/> This is a sample abstract.This is a sample abstract.</i></p>
				</div>
			</div>
		</li>
		
		<li style="background-color:#af23a4;color:white;border:1px solid white;padding-top:10px;padding-bottom:0px;padding-left:0px;padding-right:0px" id="9000" >
			<div class="container-fluid" style="padding:0;margin:0 10 0 10">
				<div class="row" >
					<div class="col-sm-2" style="text-align:center" >
						<img src="https://www.w3schools.com/bootstrap/img_chania.jpg" style="width:50%;height:60%;border-radius:20%;">
						<p style="font-size:0.7em">Amit Londhe</p>
					</div>
					<p class="col-sm-10 small"> Lightning Talk <br/><i> This is a sample abstract.  This is a sample abstract. <br/> This is a sample abstract.This is a sample abstract.</i></p>
				</div>
			</div>
		</li>
		
		<li style="background-color:#af23a4;color:white;border:1px solid white;padding-top:10px;padding-bottom:0px;padding-left:0px;padding-right:0px" id="9000" >
			<div class="container-fluid" style="padding:0;margin:0 10 0 10">
				<div class="row" >
					<div class="col-sm-2" style="text-align:center" >
						<img src="https://www.w3schools.com/bootstrap/img_chania.jpg" style="width:50%;height:60%;border-radius:20%;">
						<p style="font-size:0.7em">Amit Londhe</p>
					</div>
					<p class="col-sm-10 small"> Lightning Talk <br/><i> This is a sample abstract.  This is a sample abstract. <br/> This is a sample abstract.This is a sample abstract.</i></p>
				</div>
			</div>
		</li>
		
		<li style="background-color:#af23a4;color:white;border:1px solid white;padding-top:10px;padding-bottom:0px;padding-left:0px;padding-right:0px" id="9000" >
			<div class="container-fluid" style="padding:0;margin:0 10 0 10">
				<div class="row" >
					<div class="col-sm-2" style="text-align:center" >
						<img src="https://www.w3schools.com/bootstrap/img_chania.jpg" style="width:50%;height:60%;border-radius:20%;">
						<p style="font-size:0.7em">Amit Londhe</p>
					</div>
					<p class="col-sm-10 small"> Lightning Talk <br/><i> This is a sample abstract.  This is a sample abstract. <br/> This is a sample abstract.This is a sample abstract.</i></p>
				</div>
			</div>
		</li>
	
	
	</ul> 
    </div>	
  
</div>



</body>
</html>
